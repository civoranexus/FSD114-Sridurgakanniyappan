<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>EduVillage – Certificates</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS -->
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="style.css">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>

    <!-- HEADER -->
    <header class="header">
        <button id="menuBtn" class="menu-btn">☰</button>

        <div class="logo-container">
            <img src="Long_logo.png" alt="Civora Nexus Logo">
            <div>
                <h1>EduVillage</h1>
                <small style="font-size: 0.8rem; opacity: 0.9;">by Civora Nexus</small>
            </div>
        </div>

        <div class="profile">
            <img src="https://i.pravatar.cc/40" alt="Profile">
            <span>Hello, Student</span>
        </div>
    </header>

    <!-- SIDEBAR -->
    <aside class="sidebar">
        <nav>
            <a href="student-dashboard.html">Dashboard</a>
            <a href="mycourses.html">My Courses</a>
            <a href="assignments.html">Assignments</a>
            <a href="quiz.html">Quizzes</a>
            <a class="active" href="certificates.html">Certificates</a>
            <a href="messages.html">Messages</a>
            <a href="settings.html">Settings</a>
            <a href="login.html" id="logoutBtn">Logout</a>
        </nav>
    </aside>

    <!-- MAIN CONTENT -->
    <main id="mainContent" class="main">
        <h2>My Certificates</h2>
        <div class="list-container">

            <div class="certificate-card">
                <div class="cert-info">
                    <h3>Python for Beginners</h3>
                    <p>Completed on: Jan 10, 2026</p>
                    <p>Grade: Passed</p>
                </div>
                <button onclick="generateCertificate('Python for Beginners')">Download Certificate</button>
            </div>

            <div class="certificate-card">
                <div class="cert-info">
                    <h3>Data Structures & Algorithms</h3>
                    <p>Completed on: Dec 15, 2025</p>
                    <p>Grade: Passed</p>
                </div>
                <button onclick="generateCertificate('Data Structures & Algorithms')">Download Certificate</button>
            </div>

        </div>
    </main>

    <script>
        function generateCertificate(courseName) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF({ orientation: 'landscape' });
            const studentName = "Student Name";
            const date = new Date().toLocaleDateString();

            // Certificate Border
            doc.setLineWidth(3);
            doc.rect(10, 10, 277, 190);

            doc.setFont("helvetica", "bold");
            doc.setFontSize(40);
            doc.text("CERTIFICATE OF COMPLETION", 148.5, 50, { align: "center" });

            doc.setFont("helvetica", "normal");
            doc.setFontSize(20);
            doc.text("This is to certify that", 148.5, 80, { align: "center" });

            doc.setFontSize(35);
            doc.setTextColor(27, 154, 170); // Primary color
            doc.text(studentName, 148.5, 100, { align: "center" });

            doc.setTextColor(0, 0, 0);
            doc.setFontSize(20);
            doc.text("has successfully completed the course", 148.5, 120, { align: "center" });

            doc.setFontSize(30);
            doc.text(courseName, 148.5, 140, { align: "center" });

            doc.setFontSize(15);
            doc.text(`Date: ${date}`, 50, 170);

            // Branding
            doc.text("EduVillage by Civora Nexus", 247, 170, { align: "right" });

            doc.save(`Certificate-${courseName.replace(/\s+/g, '-')}.pdf`);
        }

        // Toggle Sidebar
        document.getElementById("menuBtn")?.addEventListener("click", () => {
            document.querySelector(".sidebar").classList.toggle("show");
        });
    </script>

</body>

</html>